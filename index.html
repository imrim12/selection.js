<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + TS</title>
  </head>
  <body>
    <div id="app">
      <h1>SelectJS playground</h1>
      <div>
        <label>
          Input:
          <input type="text" value="Hello World from input" />
        </label>
      </div>
      <div>
        <label>
          Textarea:
          <textarea>Hello World from textarea</textarea>
        </label>
      </div>
      <div>
        <label>
          Editor with contenteditable:
          <div contenteditable style="max-width: 400px">
            Hello World from contenteditable Lorem ipsum dolor sit amet
            consectetur adipisicing elit. Dolorum, neque id saepe similique
            libero, accusantium est sed dolore itaque labore esse architecto,
            repellendus dolores excepturi dolor. Ex quos voluptates accusantium.
          </div>
        </label>
      </div>
    </div>
    <script type="module">
      import { createApp, ref, onMounted } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js'
      import { setSelection } from './src/index'

      function waitFor(time = 0) {
        return new Promise((r) => setTimeout(r, time))
      }

      createApp({
        setup() {
          const message = ref('Hello vue!')
          
          onMounted(async () => {
            const input$ = document.querySelector('input')
            const textarea$ = document.querySelector('textarea')
            const contenteditable$ = document.querySelector('[contenteditable]')

            setSelection(input$, { start: 0, end: 5 })
            await waitFor(2000)
            setSelection(textarea$, { start: 0, end: 5 })
            await waitFor(2000)
            setSelection(contenteditable$, { start: 1, end: 6, keep: true })
          })

          return {}
        }
      }).mount('#app')
    </script>
  </body>
</html>
